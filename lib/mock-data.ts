import type { DividendStock, DividendHistory, CalendarEvent } from './types'

export const mockStocks: DividendStock[] = [
  {
    id: '1',
    symbol: 'AAPL',
    name: 'Apple Inc.',
    currentPrice: 178.72,
    dividendYield: 0.55,
    annualDividend: 0.96,
    quarterlyDividend: 0.24,
    exDividendDate: '2024-02-09',
    paymentDate: '2024-02-15',
    payoutRatio: 15.8,
    dividendGrowthRate: 4.3,
    sector: '기술',
    marketCap: '2.8T',
    peRatio: 28.5,
    fiftyTwoWeekHigh: 199.62,
    fiftyTwoWeekLow: 164.08,
  },
  {
    id: '2',
    symbol: 'MSFT',
    name: 'Microsoft Corp.',
    currentPrice: 415.50,
    dividendYield: 0.72,
    annualDividend: 3.00,
    quarterlyDividend: 0.75,
    exDividendDate: '2024-02-14',
    paymentDate: '2024-03-14',
    payoutRatio: 25.2,
    dividendGrowthRate: 10.1,
    sector: '기술',
    marketCap: '3.1T',
    peRatio: 36.2,
    fiftyTwoWeekHigh: 420.82,
    fiftyTwoWeekLow: 309.45,
  },
  {
    id: '3',
    symbol: 'JNJ',
    name: 'Johnson & Johnson',
    currentPrice: 157.25,
    dividendYield: 3.02,
    annualDividend: 4.76,
    quarterlyDividend: 1.19,
    exDividendDate: '2024-02-20',
    paymentDate: '2024-03-05',
    payoutRatio: 44.8,
    dividendGrowthRate: 5.8,
    sector: '헬스케어',
    marketCap: '379B',
    peRatio: 14.8,
    fiftyTwoWeekHigh: 175.97,
    fiftyTwoWeekLow: 143.13,
  },
  {
    id: '4',
    symbol: 'KO',
    name: 'Coca-Cola Co.',
    currentPrice: 59.82,
    dividendYield: 3.08,
    annualDividend: 1.84,
    quarterlyDividend: 0.46,
    exDividendDate: '2024-03-14',
    paymentDate: '2024-04-01',
    payoutRatio: 67.5,
    dividendGrowthRate: 4.5,
    sector: '필수소비재',
    marketCap: '258B',
    peRatio: 22.1,
    fiftyTwoWeekHigh: 64.99,
    fiftyTwoWeekLow: 51.55,
  },
  {
    id: '5',
    symbol: 'PG',
    name: 'Procter & Gamble',
    currentPrice: 162.15,
    dividendYield: 2.35,
    annualDividend: 3.82,
    quarterlyDividend: 0.9525,
    exDividendDate: '2024-01-18',
    paymentDate: '2024-02-15',
    payoutRatio: 58.3,
    dividendGrowthRate: 3.2,
    sector: '필수소비재',
    marketCap: '382B',
    peRatio: 25.6,
    fiftyTwoWeekHigh: 165.35,
    fiftyTwoWeekLow: 141.45,
  },
  {
    id: '6',
    symbol: 'VZ',
    name: 'Verizon Communications',
    currentPrice: 40.25,
    dividendYield: 6.58,
    annualDividend: 2.66,
    quarterlyDividend: 0.665,
    exDividendDate: '2024-01-09',
    paymentDate: '2024-02-01',
    payoutRatio: 52.1,
    dividendGrowthRate: 2.0,
    sector: '통신',
    marketCap: '169B',
    peRatio: 8.9,
    fiftyTwoWeekHigh: 43.42,
    fiftyTwoWeekLow: 30.14,
  },
  {
    id: '7',
    symbol: 'O',
    name: 'Realty Income Corp.',
    currentPrice: 52.80,
    dividendYield: 5.84,
    annualDividend: 3.08,
    quarterlyDividend: 0.257,
    exDividendDate: '2024-01-31',
    paymentDate: '2024-02-15',
    payoutRatio: 75.2,
    dividendGrowthRate: 3.8,
    sector: '부동산',
    marketCap: '45.2B',
    peRatio: 38.5,
    fiftyTwoWeekHigh: 66.17,
    fiftyTwoWeekLow: 45.64,
  },
  {
    id: '8',
    symbol: 'XOM',
    name: 'Exxon Mobil Corp.',
    currentPrice: 104.50,
    dividendYield: 3.60,
    annualDividend: 3.76,
    quarterlyDividend: 0.94,
    exDividendDate: '2024-02-13',
    paymentDate: '2024-03-11',
    payoutRatio: 35.8,
    dividendGrowthRate: 3.4,
    sector: '에너지',
    marketCap: '422B',
    peRatio: 10.2,
    fiftyTwoWeekHigh: 120.70,
    fiftyTwoWeekLow: 95.77,
  },
]

export const mockDividendHistory: Record<string, DividendHistory[]> = {
  AAPL: [
    { year: 2024, quarter: 'Q1', amount: 0.24, exDate: '2024-02-09', payDate: '2024-02-15', changePercent: 0, isCut: false },
    { year: 2023, quarter: 'Q4', amount: 0.24, exDate: '2023-11-10', payDate: '2023-11-16', changePercent: 4.3, isCut: false },
    { year: 2023, quarter: 'Q3', amount: 0.24, exDate: '2023-08-11', payDate: '2023-08-17', changePercent: 0, isCut: false },
    { year: 2023, quarter: 'Q2', amount: 0.24, exDate: '2023-05-12', payDate: '2023-05-18', changePercent: 0, isCut: false },
    { year: 2023, quarter: 'Q1', amount: 0.23, exDate: '2023-02-10', payDate: '2023-02-16', changePercent: 0, isCut: false },
    { year: 2022, quarter: 'Q4', amount: 0.23, exDate: '2022-11-04', payDate: '2022-11-10', changePercent: 4.5, isCut: false },
    { year: 2022, quarter: 'Q3', amount: 0.23, exDate: '2022-08-05', payDate: '2022-08-11', changePercent: 0, isCut: false },
    { year: 2022, quarter: 'Q2', amount: 0.23, exDate: '2022-05-06', payDate: '2022-05-12', changePercent: 0, isCut: false },
    { year: 2022, quarter: 'Q1', amount: 0.22, exDate: '2022-02-04', payDate: '2022-02-10', changePercent: 0, isCut: false },
    { year: 2021, quarter: 'Q4', amount: 0.22, exDate: '2021-11-05', payDate: '2021-11-11', changePercent: 7.3, isCut: false },
    { year: 2021, quarter: 'Q3', amount: 0.22, exDate: '2021-08-06', payDate: '2021-08-12', changePercent: 0, isCut: false },
    { year: 2021, quarter: 'Q2', amount: 0.22, exDate: '2021-05-07', payDate: '2021-05-13', changePercent: 0, isCut: false },
    { year: 2021, quarter: 'Q1', amount: 0.205, exDate: '2021-02-05', payDate: '2021-02-11', changePercent: 0, isCut: false },
    { year: 2020, quarter: 'Q4', amount: 0.205, exDate: '2020-11-06', payDate: '2020-11-12', changePercent: 6.5, isCut: false },
    { year: 2020, quarter: 'Q3', amount: 0.205, exDate: '2020-08-07', payDate: '2020-08-13', changePercent: 0, isCut: false },
    { year: 2020, quarter: 'Q2', amount: 0.205, exDate: '2020-05-08', payDate: '2020-05-14', changePercent: 0, isCut: false },
    { year: 2019, quarter: 'Q4', amount: 0.1925, exDate: '2019-11-07', payDate: '2019-11-14', changePercent: 0, isCut: false },
    { year: 2019, quarter: 'Q3', amount: 0.1925, exDate: '2019-08-09', payDate: '2019-08-15', changePercent: 0, isCut: false },
    { year: 2019, quarter: 'Q2', amount: 0.1925, exDate: '2019-05-10', payDate: '2019-05-16', changePercent: 5.5, isCut: false },
    { year: 2019, quarter: 'Q1', amount: 0.1825, exDate: '2019-02-08', payDate: '2019-02-14', changePercent: 0, isCut: false },
  ],
  JNJ: [
    { year: 2024, quarter: 'Q1', amount: 1.19, exDate: '2024-02-20', payDate: '2024-03-05', changePercent: 0, isCut: false },
    { year: 2023, quarter: 'Q4', amount: 1.19, exDate: '2023-11-20', payDate: '2023-12-05', changePercent: 5.3, isCut: false },
    { year: 2023, quarter: 'Q3', amount: 1.19, exDate: '2023-08-21', payDate: '2023-09-05', changePercent: 0, isCut: false },
    { year: 2023, quarter: 'Q2', amount: 1.19, exDate: '2023-05-22', payDate: '2023-06-06', changePercent: 0, isCut: false },
    { year: 2023, quarter: 'Q1', amount: 1.13, exDate: '2023-02-21', payDate: '2023-03-07', changePercent: 0, isCut: false },
    { year: 2022, quarter: 'Q4', amount: 1.13, exDate: '2022-11-21', payDate: '2022-12-06', changePercent: 6.6, isCut: false },
    { year: 2022, quarter: 'Q3', amount: 1.13, exDate: '2022-08-22', payDate: '2022-09-06', changePercent: 0, isCut: false },
    { year: 2022, quarter: 'Q2', amount: 1.13, exDate: '2022-05-23', payDate: '2022-06-07', changePercent: 0, isCut: false },
    { year: 2022, quarter: 'Q1', amount: 1.06, exDate: '2022-02-22', payDate: '2022-03-08', changePercent: 0, isCut: false },
    { year: 2021, quarter: 'Q4', amount: 1.06, exDate: '2021-11-22', payDate: '2021-12-07', changePercent: 5.0, isCut: false },
  ],
  VZ: [
    { year: 2024, quarter: 'Q1', amount: 0.665, exDate: '2024-01-09', payDate: '2024-02-01', changePercent: 0, isCut: false },
    { year: 2023, quarter: 'Q4', amount: 0.665, exDate: '2023-10-06', payDate: '2023-11-01', changePercent: 1.9, isCut: false },
    { year: 2023, quarter: 'Q3', amount: 0.665, exDate: '2023-07-07', payDate: '2023-08-01', changePercent: 0, isCut: false },
    { year: 2023, quarter: 'Q2', amount: 0.6525, exDate: '2023-04-06', payDate: '2023-05-01', changePercent: 0, isCut: false },
    { year: 2023, quarter: 'Q1', amount: 0.6525, exDate: '2023-01-06', payDate: '2023-02-01', changePercent: 0, isCut: false },
    { year: 2022, quarter: 'Q4', amount: 0.6525, exDate: '2022-10-07', payDate: '2022-11-01', changePercent: 2.0, isCut: false },
    { year: 2022, quarter: 'Q3', amount: 0.6525, exDate: '2022-07-08', payDate: '2022-08-01', changePercent: 0, isCut: false },
    { year: 2022, quarter: 'Q2', amount: 0.64, exDate: '2022-04-08', payDate: '2022-05-02', changePercent: 0, isCut: false },
    { year: 2022, quarter: 'Q1', amount: 0.64, exDate: '2022-01-07', payDate: '2022-02-01', changePercent: 0, isCut: false },
    { year: 2021, quarter: 'Q4', amount: 0.64, exDate: '2021-10-08', payDate: '2021-11-01', changePercent: 2.0, isCut: false },
  ],
}

export const mockCalendarEvents: CalendarEvent[] = [
  {
    date: '2024-01-09',
    type: 'ex-dividend',
    stocks: [{ symbol: 'VZ', name: 'Verizon Communications', amount: 0.665 }],
  },
  {
    date: '2024-01-18',
    type: 'ex-dividend',
    stocks: [{ symbol: 'PG', name: 'Procter & Gamble', amount: 0.9525 }],
  },
  {
    date: '2024-01-31',
    type: 'ex-dividend',
    stocks: [{ symbol: 'O', name: 'Realty Income Corp.', amount: 0.257 }],
  },
  {
    date: '2024-02-01',
    type: 'payment',
    stocks: [{ symbol: 'VZ', name: 'Verizon Communications', amount: 0.665 }],
  },
  {
    date: '2024-02-09',
    type: 'ex-dividend',
    stocks: [{ symbol: 'AAPL', name: 'Apple Inc.', amount: 0.24 }],
  },
  {
    date: '2024-02-13',
    type: 'ex-dividend',
    stocks: [{ symbol: 'XOM', name: 'Exxon Mobil Corp.', amount: 0.94 }],
  },
  {
    date: '2024-02-14',
    type: 'ex-dividend',
    stocks: [{ symbol: 'MSFT', name: 'Microsoft Corp.', amount: 0.75 }],
  },
  {
    date: '2024-02-15',
    type: 'payment',
    stocks: [
      { symbol: 'AAPL', name: 'Apple Inc.', amount: 0.24 },
      { symbol: 'PG', name: 'Procter & Gamble', amount: 0.9525 },
      { symbol: 'O', name: 'Realty Income Corp.', amount: 0.257 },
    ],
  },
  {
    date: '2024-02-20',
    type: 'ex-dividend',
    stocks: [{ symbol: 'JNJ', name: 'Johnson & Johnson', amount: 1.19 }],
  },
  {
    date: '2024-03-05',
    type: 'payment',
    stocks: [{ symbol: 'JNJ', name: 'Johnson & Johnson', amount: 1.19 }],
  },
  {
    date: '2024-03-11',
    type: 'payment',
    stocks: [{ symbol: 'XOM', name: 'Exxon Mobil Corp.', amount: 0.94 }],
  },
  {
    date: '2024-03-14',
    type: 'ex-dividend',
    stocks: [{ symbol: 'KO', name: 'Coca-Cola Co.', amount: 0.46 }],
  },
  {
    date: '2024-03-14',
    type: 'payment',
    stocks: [{ symbol: 'MSFT', name: 'Microsoft Corp.', amount: 0.75 }],
  },
  {
    date: '2024-04-01',
    type: 'payment',
    stocks: [{ symbol: 'KO', name: 'Coca-Cola Co.', amount: 0.46 }],
  },
]

export function getYearlyDividendData(symbol: string) {
  const history = mockDividendHistory[symbol] || []
  const yearlyData: Record<number, number> = {}
  
  for (const record of history) {
    if (!yearlyData[record.year]) {
      yearlyData[record.year] = 0
    }
    yearlyData[record.year] += record.amount
  }
  
  return Object.entries(yearlyData)
    .map(([year, total]) => ({ year: Number(year), dividend: Number(total.toFixed(4)) }))
    .sort((a, b) => a.year - b.year)
}
